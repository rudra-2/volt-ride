<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Analysis - VoltRide</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            background-color: #f5f5f5;
            color: #333333;
            font-family: 'Montserrat', sans-serif;
        }

        .container {
            margin-top: 80px;
            max-width: 1200px;
            padding: 20px;
        }

        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background-color: #00FF88;
            color: #000000;
            padding: 10px 20px;
            border-radius: 20px;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .back-button:hover {
            background-color: #00D4FF;
            color: #000000;
            transform: translateX(-5px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .card {
            background: #ffffff;
            border: 1px solid rgba(0, 255, 136, 0.2);
            border-radius: 15px;
            color: #333333;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .card-title {
            color: #00FF88;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
        }

        .table-container {
            overflow-x: auto;
            margin: 0 -15px;
            padding: 0 15px;
            -webkit-overflow-scrolling: touch;
            border-radius: 8px;
        }

        .table {
            background-color: #ffffff;
            color: #333333;
            margin-bottom: 0;
        }

        .table th {
            background-color: #f8f9fa;
            color: #00FF88;
            white-space: nowrap;
            position: sticky;
            top: 0;
            z-index: 1;
            font-weight: 600;
            border-bottom: 2px solid #00FF88;
        }

        .table td {
            border-bottom: 1px solid #e9ecef;
        }

        .table tbody tr:hover {
            background-color: rgba(0, 255, 136, 0.1);
            color: #000000;
        }

        .chart-container {
            position: relative;
            height: 400px;
            margin-bottom: 20px;
            background-color: #ffffff;
            border-radius: 8px;
            padding: 15px;
        }

        .small-chart-container {
            position: relative;
            height: 300px;
            width: 100%;
            margin-bottom: 20px;
            background-color: #ffffff;
            border-radius: 8px;
            padding: 15px;
        }

        /* Custom scrollbar styles */
        .table-container::-webkit-scrollbar {
            height: 8px;
        }

        .table-container::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        .table-container::-webkit-scrollbar-thumb {
            background: #00FF88;
            border-radius: 4px;
        }

        .table-container::-webkit-scrollbar-thumb:hover {
            background: #00D4FF;
        }

        /* Responsive styles */
        @media (max-width: 768px) {
            .container {
                margin-top: 70px;
                padding: 15px;
            }

            .card {
                margin-bottom: 15px;
            }

            .chart-container {
                height: 300px;
            }

            .small-chart-container {
                height: 250px;
            }

            .table th,
            .table td {
                padding: 8px;
                font-size: 14px;
            }
        }

        @media (max-width: 576px) {
            .container {
                margin-top: 60px;
                padding: 10px;
            }

            .card-title {
                font-size: 16px;
            }

            .chart-container {
                height: 250px;
            }

            .small-chart-container {
                height: 200px;
            }

            .table th,
            .table td {
                padding: 6px;
                font-size: 12px;
            }
        }

        /* Chart customization */
        .chart-container canvas,
        .small-chart-container canvas {
            background-color: #ffffff;
        }
    </style>
</head>

<body>
    <a href="/dashboard" class="back-button">
        <i class="fas fa-arrow-left"></i> Back to Dashboard
    </a>

    <div class="container">
        <h1 class="text-center mb-4" style="color: #333333;">Data Analysis</h1>

        <div class="card p-4">
            <h5 class="card-title"><i class="fas fa-charging-station"></i> Stations</h5>
            <div class="table-container">
                <table class="table table-dark table-hover">
                    <thead>
                        <tr>
                            <th>Station ID</th>
                            <th>Name</th>
                            <th>Latitude</th>
                            <th>Longitude</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>Nirma</td>
                            <td>23.2152</td>
                            <td>72.6682</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>Ognaj</td>
                            <td>23.2307</td>
                            <td>72.6754</td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>Thaltej</td>
                            <td>23.2329</td>
                            <td>72.6331</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="card p-4">
            <h5 class="card-title"><i class="fas fa-car"></i> Vehicles</h5>
            <div class="table-container">
                <table class="table table-dark table-hover">
                    <thead>
                        <tr>
                            <th>Vehicle ID</th>
                            <th>Reg Plate</th>
                            <th>Name</th>
                            <th>Battery</th>
                            <th>Station ID</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>GJ01RL1111</td>
                            <td>VoltRide X1</td>
                            <td>90%</td>
                            <td>1</td>
                            <td>Available</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>GJ02CD5678</td>
                            <td>EV-Two</td>
                            <td>60%</td>
                            <td>1</td>
                            <td>Occupied</td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>GJ03EF9101</td>
                            <td>EV-Three</td>
                            <td>100%</td>
                            <td>1</td>
                            <td>Available</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="card p-4">
            <h5 class="card-title"><i class="fas fa-route"></i> Rides</h5>
            <div class="table-container">
                <table class="table table-dark table-hover">
                    <thead>
                        <tr>
                            <th>Ride ID</th>
                            <th>User ID</th>
                            <th>Vehicle ID</th>
                            <th>Time</th>
                            <th>Date</th>
                            <th>Status</th>
                            <th>Payment</th>
                            <th>Profit</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>2</td>
                            <td>1</td>
                            <td>10:00</td>
                            <td>2025-03-20</td>
                            <td>Completed</td>
                            <td>₹100</td>
                            <td>₹20</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>2</td>
                            <td>2</td>
                            <td>12:30</td>
                            <td>2025-03-21</td>
                            <td>Completed</td>
                            <td>₹150</td>
                            <td>₹30</td>
                        </tr>
                        <tr>
                            <td>26</td>
                            <td>2</td>
                            <td>1</td>
                            <td>19:04</td>
                            <td>2025-03-22</td>
                            <td>Completed</td>
                            <td>₹83</td>
                            <td>₹17</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="card p-4">
            <h5 class="card-title"><i class="fas fa-dollar-sign"></i> Total Revenue</h5>
            <p class="card-text">₹450</p>
        </div>

        <div class="card p-4">
            <h5 class="card-title"><i class="fas fa-chart-line"></i> Revenue Over Time</h5>
            <div class="chart-container">
                <canvas id="revenueChart"></canvas>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="card p-4">
                    <h5 class="card-title"><i class="fas fa-chart-pie"></i> Vehicle Usage</h5>
                    <div class="small-chart-container">
                        <canvas id="vehicleUsageChart"></canvas>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card p-4">
                    <h5 class="card-title"><i class="fas fa-chart-bar"></i> Rides Per Station</h5>
                    <div class="small-chart-container">
                        <canvas id="ridesPerStationChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Revenue Over Time Chart
        var ctx = document.getElementById('revenueChart').getContext('2d');
        var revenueChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['2025-03-20', '2025-03-21', '2025-03-22'],
                datasets: [{
                    label: 'Revenue',
                    data: [300, 400, 450],
                    backgroundColor: 'rgba(0, 255, 136, 0.2)',
                    borderColor: 'rgba(0, 255, 136, 1)',
                    borderWidth: 2,
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            color: '#e9ecef'
                        }
                    },
                    x: {
                        grid: {
                            color: '#e9ecef'
                        }
                    }
                },
                plugins: {
                    legend: {
                        labels: {
                            color: '#333333'
                        }
                    }
                }
            }
        });

        // Vehicle Usage Chart
        var ctx2 = document.getElementById('vehicleUsageChart').getContext('2d');
        var vehicleUsageChart = new Chart(ctx2, {
            type: 'pie',
            data: {
                labels: ['Available', 'In Use'],
                datasets: [{
                    label: 'Vehicle Usage',
                    data: [2, 1],
                    backgroundColor: [
                        'rgba(0, 255, 136, 0.7)',
                        'rgba(255, 99, 132, 0.7)'
                    ],
                    borderColor: [
                        'rgba(0, 255, 136, 1)',
                        'rgba(255, 99, 132, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                        labels: {
                            color: '#333333'
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function (tooltipItem) {
                                var label = tooltipItem.label || '';
                                var value = tooltipItem.raw;
                                var total = tooltipItem.dataset.data.reduce((a, b) => a + b, 0);
                                var percentage = ((value / total) * 100).toFixed(2);
                                return label + ': ' + percentage + '%';
                            }
                        }
                    }
                }
            }
        });

        // Rides Per Station Chart
        var ctx3 = document.getElementById('ridesPerStationChart').getContext('2d');
        var ridesPerStationChart = new Chart(ctx3, {
            type: 'bar',
            data: {
                labels: ['Nirma', 'Ognaj', 'Thaltej'],
                datasets: [{
                    label: 'Rides',
                    data: [5, 3, 7],
                    backgroundColor: 'rgba(0, 255, 136, 0.7)',
                    borderColor: 'rgba(0, 255, 136, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            color: '#e9ecef'
                        }
                    },
                    x: {
                        grid: {
                            color: '#e9ecef'
                        }
                    }
                },
                plugins: {
                    legend: {
                        labels: {
                            color: '#333333'
                        }
                    }
                }
            }
        });
    </script>
</body>

</html>